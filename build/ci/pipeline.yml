---

jobs:
- name: unit
  plan:
  - get: snowflake
    trigger: true
  - task: unit
    file: snowflake/build/ci/unit.yml

- name: integration
  plan:
  - get: snowflake
    passed: [unit]
    trigger: true
  - task: integration
    file: snowflake/build/ci/integration.yml

- name: end-to-end
  plan:
  - get: snowflake
    passed: [integration]
    trigger: true
  - task: integration
    file: snowflake/build/ci/e2e.yml

resources:
- name: snowflake
  type: git
  source:
    uri: https://github.com/teddyking/snowflake
    branch: master
